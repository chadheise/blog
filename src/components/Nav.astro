---
interface Props {
  backLink?: { href: string; label: string };
}

const { backLink } = Astro.props;
---

<nav class="site-nav">
  <div class="nav-main-row">
    <a href="/" class="site-name">Chad Heise</a>
    <div class="nav-social-links">
      <a
        href="https://github.com/chadheise"
        target="_blank"
        rel="noopener noreferrer"
        aria-label="GitHub"
        class="social-link"
      >
        <svg
          class="social-icon"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
            fill="var(--color-primary)"></path>
        </svg>
      </a>
      <a
        href="https://www.thingiverse.com/fivefives/designs"
        target="_blank"
        rel="noopener noreferrer"
        aria-label="Thingiverse"
        class="social-link"
      >
        <svg
          class="social-icon"
          width="32"
          height="32"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 32 32"
          fill="none"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M30.9681 0H1.02583C0.458608 0 0 0.458695 0 1.02603V30.974C0 31.5413 0.458608 32 1.02583 32H11.4531C12.0204 32 12.479 31.5413 12.479 30.974V13.0668C12.479 12.928 12.3643 12.8133 12.2255 12.8133H4.24213C4.10334 12.8133 3.98869 12.6986 3.98869 12.5598V6.02942C3.98869 5.89061 4.10334 5.77593 4.24213 5.77593H27.7518C27.8906 5.77593 28.0053 5.89061 28.0053 6.02942V12.5598C28.0053 12.6986 27.8906 12.8133 27.7518 12.8133H19.7745C19.6357 12.8133 19.521 12.928 19.521 13.0668V30.974C19.521 31.5413 19.9796 32 20.5469 32H30.9742C31.5414 32 32 31.5413 32 30.974V1.02603C32 0.458695 31.5414 0 30.9742 0H30.9681Z"
            fill="var(--color-primary)"></path>
        </svg>
      </a>
      <a
        href="https://www.linkedin.com/in/chadheise"
        target="_blank"
        rel="noopener noreferrer"
        aria-label="LinkedIn"
        class="social-link"
      >
        <svg
          class="social-icon"
          width="34"
          height="34"
          viewBox="0 0 34 34"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill="var(--color-primary)"
            d="M34 2.5v29a2.5 2.5 0 0 1-2.5 2.5h-29A2.5 2.5 0 0 1 0 31.5v-29A2.5 2.5 0 0 1 2.5 0h29A2.5 2.5 0 0 1 34 2.5M10 13H5v16h5zm.45-5.5a2.88 2.88 0 0 0-2.86-2.9H7.5a2.9 2.9 0 0 0 0 5.8 2.88 2.88 0 0 0 2.95-2.81zM29 19.28c0-4.81-3.06-6.68-6.1-6.68a5.7 5.7 0 0 0-5.06 2.58h-.14V13H13v16h5v-8.51a3.32 3.32 0 0 1 3-3.58h.19c1.59 0 2.77 1 2.77 3.52V29h5z"
          ></path>
        </svg>
      </a>
    </div>
  </div>
  <div class="nav-secondary-row">
    {
      backLink && (
        <a href={backLink.href} class="back-link">
          ‚Üê {backLink.label}
        </a>
      )
    }
    <div class="nav-links">
      <a href="/#about" class="nav-link">About</a>
      <a href="/projects" class="nav-link">Projects</a>
      <a href="/blog" class="nav-link">Blog</a>
      <a href="/#career" class="nav-link">Career</a>
    </div>
  </div>
</nav>

<style>
  .site-nav {
    position: sticky;
    top: 0;
    z-index: 10;
    background-color: var(--color-bg);
    display: flex;
    flex-direction: column;
    padding: 1rem 0;
    margin-bottom: 2rem;
    border-bottom: 1px solid var(--color-border);
  }

  .nav-main-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .nav-secondary-row {
    display: flex;
    justify-content: flex-end;
    align-items: center;
    margin-top: 0.5rem;
  }

  .nav-social-links {
    display: flex;
    flex-direction: row;
    gap: 0.75rem;
    align-items: center;
  }

  .social-link {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    gap: 0.5rem;
    text-decoration: none;
    transition: transform 0.2s ease;
  }

  .social-link:hover {
    transform: scale(1.1);
  }

  .social-icon {
    width: 28px;
    height: 28px;
    display: block;
  }

  .site-name {
    font-size: 1.4rem;
    font-weight: 700;
    color: var(--color-primary);
    text-decoration: none;
    transition: color 0.2s ease;
  }

  .site-name:hover {
    color: var(--color-link);
  }

  .nav-links {
    display: flex;
    gap: 1.5rem;
    flex-wrap: wrap;
  }

  .nav-link {
    text-decoration: none;
    color: var(--color-link);
    font-weight: 500;
    transition: color 0.2s ease;
  }

  .nav-link:hover {
    color: var(--color-link-hover);
    text-decoration: underline;
  }

  .back-link {
    margin-right: auto;
    color: var(--color-link);
    text-decoration: none;
    font-weight: 500;
    transition: color 0.2s ease;
  }

  .back-link:hover {
    color: var(--color-link-hover);
    text-decoration: underline;
  }

  @media (max-width: 600px) {
    .nav-links {
      gap: 1rem;
    }
  }
</style>
